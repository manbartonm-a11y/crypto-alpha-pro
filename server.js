const express = require("express"); const fetch = require("node-fetch"); const app = express(); let lastWhaleTime = 0; let whaleMsg = "No recent whale moves"; app.get("/", (req,res)=>res.send("<h1 style=\"color:#0f0;background:#000;text-align:center;padding:200px;font-family:monospace\">CRYPTO ALPHA PRO LIVE!<br><a href=\"/telegram\" style=\"color:#0ff;font-size:50px\">OPEN DASHBOARD</a></h1>")); app.get("/telegram", async (req,res)=>{ if(Date.now() - lastWhaleTime > 120000){ try{ const w = await fetch("https://api.arkhamintelligence.com/v1/transactions?chain=bitcoin&limit=1&min_value=1000000").then(r=>r.json()); if(w.data?.[0]){ const t = w.data[0]; whaleMsg = `WHALE ALERT: $${(t.value_usd/1e6).toFixed(1)}M BTC ? ${t.to_address.slice(0,8)}...`; lastWhaleTime = Date.now(); } }catch(e){ whaleMsg = "API limited — retrying..."; }} res.send(`<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Crypto Alpha Pro</title><script src="https://telegram.org/js/telegram-web-app.js"></script><style>body{margin:0;background:#000;color:#0f0;font-family:monospace;text-align:center;padding:20px}h1{color:#0ff;font-size:3em}.p{font-size:5.5em;color:#0f9}.w{background:#001a00;padding:20px;border:3px solid #0f0;border-radius:20px;margin:20px;font-size:1.5em}.chart{width:95%;max-width:600px;height:300px;border:6px solid #0f0;border-radius:20px;margin:40px auto;display:block}</style></head><body onload="Telegram.WebApp.ready();Telegram.WebApp.expand()"><h1>CRYPTO ALPHA PRO</h1><div class="p">$108,420</div><div style="font-size:2em;color:#0f0">24h Up +6.9%</div><img src="https://static.vecteezy.com/system/resources/previews/000/600/000/original/bitcoin-chart-png.png" class="chart" alt="Bitcoin Chart"><div class="w">${whaleMsg}</div><div style="font-size:1.7em;color:#0f9;margin-top:20px">Whales buying the dip — next leg up loading</div></body></html>`); }); const PORT=process.env.PORT||10000; app.listen(PORT,"0.0.0.0");
