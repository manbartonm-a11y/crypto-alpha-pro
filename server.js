const express=require("express");const app=express();const PREMIUM=new Set(["777"]);app.get("/",(r,s)=>s.send("OK"));app.get("/telegram",(req,res)=>{const id=req.query.id||"0";const isPremium=PREMIUM.has(id);const paywall=isPremium?"":"<a href=\"https://t.me/CryptoBot?start=pay_to_@crypto_alert_677_bot\" style=\"background:#0f0;color:#000;padding:32px 110px;border-radius:90px;font-size:2.9em;text-decoration:none;display:inline-block;margin:50px;box-shadow:0 0 70px #0f0;letter-spacing:2px;font-weight:bold\">UNLOCK PREMIUM $9/month</a>";const pnl=isPremium?"<div style=\"background:#000;padding:35px;border:3px solid #0f0;border-radius:50px;margin:60px auto;max-width:850px;font-size:3.8em;color:#0f0;box-shadow:0 0 90px #0f0;text-shadow:0 0 30px #0f0;letter-spacing:3px\">Portfolio PnL: +$12,847</div>":"";res.send("<html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>Crypto Alpha Pro</title><style>body{margin:0;background:#000;color:#0f0;font-family:monospace;text-align:center;padding:20px}h1{color:#0ff;font-size:3.5em}.p{font-size:7em;color:#0ff}canvas{width:96%;max-width:800px;height:460px;margin:40px auto;border:3px solid #0f0;border-radius:40px;background:#000;box-shadow:0 0 80px #0f0}.box{background:#000;padding:25px;border:2px solid #0f0;border-radius:35px;margin:25px auto;max-width:750px;font-size:1.9em;box-shadow:0 0 50px #0f0}</style></head><body><h1>CRYPTO ALPHA PRO</h1><div class=\"p\">$108,420</div><div style=\"font-size:4em;color:#0f0\">24h +6.9%</div><canvas id=\"c\"></canvas><div class=\"box\">WHALE ALERT $42.7M BTC ? Binance (3 min ago)</div><div class=\"box\">AI TRACKER Next pump in 4h 21m • Target: $112,000+</div>"+pnl+paywall+"<script>const c=document.getElementById(\"c\"),x=c.getContext(\"2d\");c.width=800;c.height=460;x.fillStyle=\"#000\";x.fillRect(0,0,800,460);x.strokeStyle=\"#0f0\";x.lineWidth=16;x.shadowBlur=60;x.shadowColor=\"#0f0\";x.beginPath();x.moveTo(80,420);[420,370,320,340,280,210,150,100,70,45,20,10].forEach((y,i)=>x.lineTo(80+i*62,y));x.stroke();x.lineTo(780,460);x.lineTo(80,460);x.fillStyle=\"rgba(0,255,0,0.5)\";x.fill();</script></body></html>");});app.get("/t", (req,res)=>res.redirect("/telegram"+(req.url.includes("?")?"?"+req.url.split("?")[1]:"")));app.post("/paid",(req,res)=>{const id=req.body?.id;if(id)PREMIUM.add(id);res.send("OK");});app.listen(process.env.PORT||10000,"0.0.0.0");
